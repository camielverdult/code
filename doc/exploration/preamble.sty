\usepackage{xspace}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{MnSymbol}
\usepackage{stmaryrd}
\usepackage[inline]{enumitem}
\setlist{itemsep=0pt}

\newcommand{\GROOVE}{GROOVE}

\newcommand{\cls}[1]{{#1}\mskip1mu\triangleright}
\newcommand{\prm}[1]{\triangleleft\mskip1mu{#1}}

\newcommand{\dom}{\mathop{\mathrm{dom}}}

\newcommand{\Prime}{\ensuremath{\mathit{prime}}}
\newcommand{\Done}{\ensuremath{\mathit{done}}}
\newcommand{\Open}{\ensuremath{\mathit{open}}}
\newcommand{\Closed}{\ensuremath{\mathit{closed}}}
\newcommand{\Trnt}{\ensuremath{\mathit{trnt}}}
\newcommand{\Abs}{\ensuremath{\mathit{abs}}}
\newcommand{\Stable}{\ensuremath{\mathit{stable}}}
\newcommand{\Tdepth}{\ensuremath{\mathit{tdp}}}

\newcommand{\cC}{\mathcal{C}}
\newcommand{\natN}{\mathbb{N}}

\newcommand{\setof}[1]{\{{#1}\}}
\newcommand{\gensetof}[2]{\setof{{#1}\mid{#2}}}
\newcommand{\tupof}[1]{\langle{#1}\rangle}
\newcommand{\iffdef}{:\Leftrightarrow}

% Special arrows
\newcommand{\pto}{\hookrightarrow}
\newcommand{\goesto}{\rightarrowtail}
\newcommand{\ngoesto}{\arrownot\rightarrowtail}
\newcommand{\comesfrom}{\leftarrowtail}
\newcommand{\ncomesfrom}{\arrownot\leftarrowtail}
\newcommand{\ra}{\rightarrow}
\newcommand{\up}{{\uparrow}}
\newcommand{\Up}{{\Uparrow}}

% Typeset the label of an extensible arrow
\newcommand{\xlabel}[1]{\smash{\mathchoice
		{\raisebox{-1.5pt}{$\scriptstyle#1$}}
		{\raisebox{-1.5pt}{$\scriptstyle#1$}}
		{\raisebox{-1pt}{$\scriptstyle#1$}}
		{\raisebox{-1pt}{$\scriptscriptstyle#1$}}
}}
% Prepend a negation to an extensible arrow
\newcommand{\xarrownot}{\mathrel{\arrownot-}\mskip-7mu}
% single-arrow transition
\newcommand{\trans}[1]{\xrightarrow{\xlabel{#1}}}
% negative single-arrow transition
\newcommand{\ntrans}[1]{\mathrel{\xarrownot\trans{#1}}}

% mapsto-like transition
\newcommand{\step}[1]{\mapstochar\xrightarrow{\xlabel{#1}}}
% negative mapsto-like transition
\newcommand{\nstep}[1]{\mapstochar\joinrel\xarrownot\xrightarrow{\xlabel{#1}}}


%%%% Recapture the mapstochar, which is set to undefined by MnSymbol
\usepackage{trimclip}

\makeatletter
\providecommand{\mapstochar}{\mathrel{\mathpalette\mapstochar@\relax}}
\newcommand{\mapstochar@}[2]{%
	\makebox[0pt][l]{%
		\clipbox{0 0 {0.8\width} 0}{$\m@th#1\mapsto$}%
	}%
}
\makeatother
