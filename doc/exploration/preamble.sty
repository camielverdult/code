\usepackage{xspace}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{MnSymbol}
\usepackage{stmaryrd}
\usepackage[inline]{enumitem}
\setlist{itemsep=0pt}
\usepackage{graphicx}

\newcommand{\GROOVE}{GROOVE}

% Closure of a pseudo-state
\newcommand{\cls}[1]{{#1}{\triangleright}}
% Prime of a pseudo-state
\newcommand{\prm}[1]{{\triangleleft}\mskip-2mu{#1}}

\newcommand{\dom}{\mathop{\mathrm{dom}}}

\newcommand{\Prime}{\ensuremath{\mathit{prim}}}
\newcommand{\Complete}{\ensuremath{\mathit{cplt}}}
\newcommand{\Open}{\ensuremath{\mathit{open}}}
\newcommand{\Closed}{\ensuremath{\mathit{clsd}}}
\newcommand{\Transient}{\ensuremath{\mathit{trnt}}}
% Absence
\newcommand{\Absent}{\ensuremath{\mathit{abst}}}
% Stability
\newcommand{\Steady}{\ensuremath{\mathit{stdy}}}
% Eventual persistence
\newcommand{\ESteady}{\Steady^\diamond}
% Transient depth
\newcommand{\TDepth}{\ensuremath{\mathit{trdp}}}
% Eventual transient depth
\newcommand{\ETDepth}{\TDepth^\diamond}

% Partiality of a transition
\newcommand{\Partial}{\ensuremath{\mathit{part}}}

% Reachable transient open states
\newcommand{\RTO}{\mathit{RTO}}
% Reachable partial transitions
\newcommand{\RP}{\mathit{RP}}
% Reachable steady states
\newcommand{\RS}{\mathit{RS}}


\newcommand{\cC}{\mathcal{C}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cS}{\mathcal{S}}

\newcommand{\natN}{\mathbb{N}}

\newcommand{\setof}[1]{\{{#1}\}}
\newcommand{\gensetof}[2]{\setof{{#1}\mid{#2}}}
\newcommand{\tupof}[1]{\langle{#1}\rangle}
\newcommand{\iffdef}{:\Leftrightarrow}
% Partial function
\newcommand{\pto}{\hookrightarrow}

% Special arrows

\newcommand{\goesto}{\rightarrowtail}
\newcommand{\ngoesto}{\arrownot\rightarrowtail}

\newcommand{\comesfrom}{\leftarrowtail}
\newcommand{\ncomesfrom}{\arrownot\leftarrowtail}
\newcommand{\ra}{\rightarrow}
\newcommand{\up}{{\uparrow}}

% Typeset the label of an extensible arrow
\newcommand{\xlabel}[1]{\smash{\mathchoice
		{\raisebox{-1.5pt}{$\scriptstyle#1$}}
		{\raisebox{-1.5pt}{$\scriptstyle#1$}}
		{\raisebox{-1pt}{$\scriptstyle#1$}}
		{\raisebox{-1pt}{$\scriptscriptstyle#1$}}
}}
% Prepend a negation to an extensible arrow
\newcommand{\xarrownot}{\mathrel{\arrownot-}\mskip-7mu}

% single-arrow transition
\newcommand{\trans}[1]{\xrightarrow{\xlabel{#1}}}
% negative single-arrow transition
\newcommand{\ntrans}[1]{\mathrel{\xarrownot\trans{#1}}}

% mapsto-like transition
\newcommand{\step}[1]{\mapstochar\xrightarrow{\xlabel{#1}}}
% negated mapsto-like transition
\newcommand{\nstep}[1]{\mapstochar\joinrel\xarrownot\xrightarrow{\xlabel{#1}}}

% Transactional transition
\newcommand{\ttrans}{\twoheadrightarrow}
% Negated transactional transition
\newcommand{\nttrans}{\arrownot\ttrans}

%%%% Recapture the mapstochar, which is set to undefined by MnSymbol
\usepackage{trimclip}

\makeatletter
\providecommand{\mapstochar}{\mathrel{\mathpalette\mapstochar@\relax}}
\newcommand{\mapstochar@}[2]{%
	\makebox[0pt][l]{%
		\clipbox{0 0 {0.8\width} 0}{$\m@th#1\mapsto$}%
	}%
}
\makeatother
